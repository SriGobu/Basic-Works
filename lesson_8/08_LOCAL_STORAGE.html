<!-- LOCAL STORAGE -->
<!-- save vales more permanentely -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Local Storage</title>
  </head>
  <body>
    <p>Rock Paper Scissors</p>
    <button onclick="playGame('rock')">Rock</button>
    <button onclick="playGame('paper')">Paper</button>
    <button onclick="playGame('scissors')">Scissors</button>
    <button
      onclick="
    score.wins=0;
    score.losses=0;
    score.tie=0;
    localStorage.removeItem('score');"
    >
      Reset Score
    </button>

    <script>
      let score = JSON.parse(localStorage.getItem('score')) ||  {
          wins: 0,
          losses:0,
          ties:0
        };

        // we are using a shortcut for the if statement
        // we are using the || ( ternary operator ) to check
        // if the left side of the ternary operator becomes false 
        // it will show the default value that is in the right side of the ternary operator
        
      /*
      if(!score) { //we can use !score instead of (score === null) 
        score = {
          wins: 0,
          losses:0,
          ties:0
        };
      } */

      function playGame(playerMove) {
        const computerMove = pickComputerMove();
        let result = "";

        if (playerMove === "scissors") {
          if (computerMove === "rock") {
            result = "you lose";
          } else if (computerMove === "paper") {
            result = "You win";
          } else if (computerMove === playerMove) {
            result = "you tie";
          }
        } else if (playerMove === "paper") {
          if (computerMove === "rock") {
            result = "you win";
          } else if (computerMove === playerMove) {
            result = "You tie";
          } else if (computerMove === "scissors") {
            result = "you lose";
          }
        } else if (playerMove === "rock") {
          if (computerMove === playerMove) {
            result = " you tie";
          } else if (computerMove === "paper") {
            result = "You lose";
          } else if (computerMove === "scissors") {
            result = "you win";
          }
        }

        if (result === "you win") {
          score.wins += 1;
        } else if (result === "you lose") {
          score.losses += 1;
        } else if (result === "you tie") {
          score.ties += 1;
        }

        localStorage.setItem('score',JSON.stringify(score));



        console.log(
          `you picked ${playerMove}. computer picked ${computerMove}, ${result}
Wins:${score.wins},Losses:${score.losses},Ties${score.ties}`
        );
      }

      function pickComputerMove() {
        let computerMove = "";
        const randomNumber = Math.random();
        if (randomNumber >= 0 && randomNumber < 1 / 3) {
          computerMove = "rock";
        } else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
          computerMove = "paper";
        } else if (randomNumber >= 2 / 3 && randomNumber < 1) {
          computerMove = "scissors";
        }
        return computerMove;
      }
    </script>
  </body>
</html>

<!-- localstorage only allows string values -->

<!-- step 1 : first we have to store the value in the localstorage -->
<!-- step 2 : for that we have to use the localstorage.setItem() -->
<!-- localStorage -- is a object -->
<!-- setItem -- is a function that is used to stores the value inside the local storage -->
<!-- step 3 : in the localstorage.setItem('name','value') -->
<!-- name -- it is a label for the value we are going to store -->
<!-- value -- the value we are going to store in the localstorage -->
<!-- step 4 : in the localstorage.setItem('score',JSON.stringify(score))  -->
<!-- score -- it tells that we are storing a score value -->
<!-- JSON.stringify(score) -- why we used is  -->
<!-- we are currently having an object  -->
<!-- localStorage will not support object it will only support string -->
<!-- so that by using JSON.stringify(score) we are converting the object to string and then we gived it to the localStorage -->
<!-- step 5 : localstorage.getItem('score') -- we are using this to print the score(value) that is stored in the localStorage -->
<!-- step 6 : before printing the value we have to convert the string to object -->
<!-- step 7 : JSON.parse(localStorage.getItem('score')) it is used to convert string to object  -->
<!-- because localstorage only supports string so we converted our object value to string -->
<!-- but when we print the values in the localStoreage it is in string format -->
<!-- but we want the exact object value that we first stored -->
<!-- step 8 : when we click the reset button the values stored in the localStorage has to be delete -->
<!-- step 9 : for that localStorage.remove('score') -- by using this when we click the reset button it will remove all the saved values in the localStorage and start from scratch -->
<!-- step 10 : this error may occur (cannot read properties of null) -->
<!-- when something it not exist in localStorage it is a null -->
<!-- for that we have to give a default value if it is becomes  a null -->
<!-- step 11 : for that we are using an if statement , that is if the   if(score === null) {
        score = {
          wins: 0,
          losses:0,
          ties:0
        };
      }-->
<!-- step 10 : we used this if statement because we are giving  a default value to the localStorage because when we click the reset button the values in the localstorage will be removed and after that in the localStorage there is no value inside of it and it becomes null -->
<!-- that'y why are assigining a default value to the localStorage when it becomes null -->